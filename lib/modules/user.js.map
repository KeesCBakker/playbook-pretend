{"version":3,"sources":["../../src/modules/user.js"],"names":["constructor","args","id","options","name","isString","shift","isObject","uniqueId","in","room","clone"],"mappings":"AAAA,a;;AAEA,gC;AACA,wC;;AAEA;;;;;;;AAOe,uBAAmB;AAChCA,cAAa,GAAGC,IAAhB,EAAsB;AACpB,QAAIC,EAAJ,EAAQC,OAAR,EAAiBC,IAAjB;AACA,QAAI,iBAAEC,QAAF,CAAWJ,KAAK,CAAL,CAAX,CAAJ,EAAyBG,OAAOH,KAAKK,KAAL,EAAP;AACzB,QAAI,iBAAEC,QAAF,CAAWN,KAAK,CAAL,CAAX,CAAJ,EAAyBE,UAAUF,KAAKK,KAAL,EAAV;AACzB,QAAIH,WAAW,IAAf,EAAqBA,UAAU,EAAV;AACrB,QAAIC,QAAQ,IAAZ,EAAkBD,QAAQC,IAAR,GAAeA,IAAf;AAClB,QAAID,QAAQD,EAAZ,EAAgBA,KAAKC,QAAQD,EAAb,CAAhB;AACKA,SAAK,iBAAEM,QAAF,CAAW,OAAX,CAAL;AACL,UAAMN,EAAN,EAAUC,OAAV;AACD;;AAED;;;;;AAKAM,KAAIC,IAAJ,EAAU;AACR,QAAIC,QAAQ,iBAAEA,KAAF,CAAQ,IAAR,CAAZ;AACAA,UAAMD,IAAN,GAAa,iBAAEL,QAAF,CAAWK,IAAX,IAAmBA,IAAnB,GAA0BA,KAAKN,IAA5C;AACA,WAAOO,KAAP;AACD,GArB+B,C","file":"user.js","sourcesContent":["'use strict'\n\nimport _ from 'lodash'\nimport { User } from 'hubot-async/es2015'\n\n/**\n * Represents a participating user in the chat\n * NB: not used as mock because it changes constructor to remove id argument\n * @param  {String} [name]    Name for the user (alternative to giving as attribute in options)\n * @param  {Object} [options] Key/valye user attributes\n * @return User                A new test user\n*/\nexport default class extends User {\n  constructor (...args) {\n    let id, options, name\n    if (_.isString(args[0])) name = args.shift()\n    if (_.isObject(args[0])) options = args.shift()\n    if (options == null) options = {}\n    if (name != null) options.name = name\n    if (options.id) id = options.id\n    else id = _.uniqueId('user_')\n    super(id, options)\n  }\n\n  /**\n   * Create a user clone with a designated room assigned\n   * @param  {Room|String} room Room object or name of room to assign\n   * @return User               Clone of user\n  */\n  in (room) {\n    let clone = _.clone(this)\n    clone.room = _.isString(room) ? room : room.name\n    return clone\n  }\n}\n"]}